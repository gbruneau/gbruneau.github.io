const Y=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=o(l);fetch(l.href,r)}};Y();var Z=202503271134e-4,k="#808080",V=1,R,A=250,m=!1,U,H=!1,a={slider:{color:"#00ff00",steps:5,deltaH:15,deltaS:-10,deltaL:10},mixer:{color1:"#F0ff00",color2:"#FF00bf",steps:5},blender:{color:"#F0bf95",colors:5,fixH:!1,fixS:!1,fixL:!1},lorem:{color1:"#BBFF00",color2:"#FF0000"}};a.slider.color=x();a.mixer.color1=x();a.mixer.color2=x();a.blender.color=x();a.lorem.color1=x();a.lorem.color2=x();for(let e=0;e<A;e++)R=$(`c${V+e}`,k,k.slice(1),!0,!1),document.getElementById("colPalette").innerHTML+=R;for(let e=0;e<A;e++)U=document.querySelector(`#c${V+e} .colTitle`),U.addEventListener("keypress",function(t){t.key==="Enter"&&t.preventDefault(),document.getElementById("btSave").style.visibility="visible"});var _=function(){var e=this.value,t=this.parentElement.id.substring(1);b(`c${t}`,e,e.slice(1)),document.getElementById("btSave").style.visibility="visible"},j=document.getElementById("colPalette").getElementsByClassName("inColor");for(var D=0;D<j.length;D++)j[D].addEventListener("change",_);document.getElementById("btReset").addEventListener("click",O);document.getElementById("btLoad").addEventListener("click",X);document.getElementById("btSave").addEventListener("click",be);document.getElementById("btRandom").addEventListener("click",se);document.getElementById("btFlipBG").addEventListener("click",ce);document.getElementById("btAbout").addEventListener("click",K);document.getElementById("aboutBox").addEventListener("click",K);document.getElementById("btDownload").addEventListener("click",ye);document.getElementById("btDoDownload").addEventListener("click",me);document.getElementById("btCancelDownload").addEventListener("click",ge);document.getElementById("chkExclude").addEventListener("change",ve);document.getElementById("btUpload").addEventListener("click",Ee);document.getElementById("btCancelUpload").addEventListener("click",fe);document.getElementById("btDoUpload").addEventListener("click",pe);document.getElementById("btMix1").addEventListener("click",function(){q(0)});document.getElementById("btMix2").addEventListener("click",function(){q(1)});document.getElementById("btMix3").addEventListener("click",function(){q(2)});document.getElementById("btTextTry").addEventListener("click",function(){q(3)});document.getElementById("inColorHslMix").addEventListener("change",C);document.getElementById("inHSLSteps").addEventListener("change",C);document.getElementById("inH").addEventListener("change",C);document.getElementById("inS").addEventListener("change",C);document.getElementById("inL").addEventListener("change",C);document.getElementById("inColorMix1").addEventListener("change",w);document.getElementById("inColorMix2").addEventListener("change",w);document.getElementById("inMix2Steps").addEventListener("change",w);document.getElementById("inColorBln").addEventListener("change",B);document.getElementById("inBlnHFix").addEventListener("change",B);document.getElementById("inBlnSFix").addEventListener("change",B);document.getElementById("inBlnLFix").addEventListener("change",B);document.getElementById("inBlnColors").addEventListener("change",B);document.getElementById("inColorText1").addEventListener("change",F);document.getElementById("inColorText2").addEventListener("change",F);let L;const ee="ColorPkr",N=indexedDB.open(ee,1);N.onsuccess=e=>{L=e.target.result,X()};N.onupgradeneeded=e=>{L=e.target.result,L.createObjectStore("colors",{keyPath:"id",autoIncrement:!0})};document.getElementById("aboutBoxBuild").innerText=Z;te();Q();C();w();B();F();ie();var J;window.dragSrcEl=null;T("input[type=color]");J=document.querySelectorAll("#colPalette input,#inColorHslMix,#inColorMix1,#inColorMix2,#inColorText1,#inColorText2,#BlnPaletteContainer input,#inColorBln");J.forEach(function(e){z(e)});function z(e){e.addEventListener("dragover",re),e.addEventListener("dragenter",ae),e.addEventListener("dragleave",de),e.addEventListener("drop",le)}function te(){document.getElementById("inColorHslMix").value=a.slider.color,document.getElementById("inHSLSteps").value=a.slider.steps,document.getElementById("inH").value=a.slider.deltaH,document.getElementById("inS").value=a.slider.deltaS,document.getElementById("inL").value=a.slider.deltaL,document.getElementById("inColorMix1").value=a.mixer.color1,document.getElementById("inColorMix2").value=a.mixer.color2,document.getElementById("inMix2Steps").value=a.mixer.steps,document.getElementById("inColorBln").value=a.blender.color,document.getElementById("inBlnColors").value=a.blender.colors,document.getElementById("inBlnHFix").value=a.blender.fixH,document.getElementById("inBlnSFix").value=a.blender.fixS,document.getElementById("inBlnLFix").value=a.blender.fixL,document.getElementById("inColorText1").value=a.lorem.color1,document.getElementById("inColorText2").value=a.lorem.color2}function K(){H?document.getElementById("aboutBox").style.display="none":document.getElementById("aboutBox").style.display="block",H=!H}function T(e){var t=document.querySelectorAll(e);t.forEach(function(o){o.addEventListener("dragstart",ne),o.addEventListener("dragend",oe)})}function le(e){if(e.stopPropagation(),dragSrcEl!==this){var t=dragSrcEl.parentElement.id.charAt(0)=="c",o=this.parentElement.id.charAt(0)=="c";if(this.parentElement.id.charAt(0)=="b",t&&o){var n=dragSrcEl.value,l=dragSrcEl.parentElement.querySelector(".colTitle").innerText,r=this.value,d=this.parentElement.querySelector(".colTitle").innerText;dragSrcEl.value=r,this.value=n;const s=new Event("change");this.dispatchEvent(s),dragSrcEl.dispatchEvent(s),this.parentElement.querySelector(".colTitle").innerText=l,dragSrcEl.parentElement.querySelector(".colTitle").innerText=d}else if(o){var n=dragSrcEl.value;this.value=n;const i=new Event("change");this.dispatchEvent(i)}else if(t){var n=dragSrcEl.value;this.value=n;const i=new Event("change");this.dispatchEvent(i)}else{var n=dragSrcEl.value;this.value=n;const i=new Event("change");this.dispatchEvent(i)}}return!1}function ne(e){this.classList.add("selectedDragSource"),dragSrcEl=this,e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("text/html",this.innerHTML)}function oe(e){this.classList.remove("selectedDragSource");var t=document.querySelectorAll("#colPalette input,#inColorHslMix,#inColorMix1,#inColorMix2,#inColorText1,#inColorText2");t.forEach(function(o){o.classList.remove("dragOver")})}function re(e){return e.preventDefault(),!1}function ae(e){this.classList.add("dragOver")}function de(e){this.classList.remove("dragOver")}function $(e,t,o,n,l){var r=`<div id="${e}" class="paletteColor">
  <input class="inColor" type="color" value="${t}" draggable="true" ${l?"disabled='true'":""}">
  ${n?'<div class="colTitle"   contenteditable="true"   >'+o+"</div>":""} 
  <div class="hexColor">${t}</div>
  <div class="rgbColor">${M(t).rgb}</div>
  <div class="hslColor100">${h(t).hsl100}</div>
  <div class="hslColor255">${h(t).hsl255}</div>
</div>`;return r}function g(e,t,o){var n=document.getElementById(e);n.style.backgroundColor=o,n.style.color=t}function ie(){var e=document.querySelectorAll(".textColorBox");for(const t of e)t.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing elit.<br><span>\u25A0</span>"}function F(){var e=document.getElementById("inColorText1").value,t=document.getElementById("inColorText2").value;a.lorem.color1=e,a.lorem.color2=t,g("tb01",e,"black"),g("tb02",t,"black"),g("tb03",e,"white"),g("tb04",t,"white"),g("tb05","black",e),g("tb06","white",e),g("tb07",t,e),g("tb08","black",t),g("tb09","white",t),g("tb10",e,t)}function Q(){var e=getComputedStyle(document.documentElement).getPropertyValue("--darkBG"),t=getComputedStyle(document.documentElement).getPropertyValue("--darkColor"),o=getComputedStyle(document.documentElement).getPropertyValue("--darkPannel"),n=getComputedStyle(document.documentElement).getPropertyValue("--darkTitle"),l=getComputedStyle(document.documentElement).getPropertyValue("--lightBG"),r=getComputedStyle(document.documentElement).getPropertyValue("--lightColor"),d=getComputedStyle(document.documentElement).getPropertyValue("--lightPannel"),s=getComputedStyle(document.documentElement).getPropertyValue("--lightTitle");document.body.style.backgroundColor=m?e:l,document.body.style.color=m?t:r,document.getElementById("colorPanel").style.backgroundColor=m?o:d,i=document.querySelectorAll("#colorPanel .paletteColor input"),i.forEach(c=>{c.style.backgroundColor=m?o:d,c.style.borderColor=m?o:d});var i=document.querySelectorAll("#colPalette .paletteColor input");i.forEach(c=>{c.style.backgroundColor=m?e:l,c.style.borderColor=m?e:l});var i=document.querySelectorAll("#colPalette .paletteColor .colTitle");i.forEach(c=>{c.style.color=m?n:s}),document.querySelector("#btFlipBG span").title=m?"Light Mode":"Dark Mode"}function O(){for(var e=document.getElementById("colPalette").getElementsByClassName("inColor"),t=0;t<e.length;t++)b(`c${t+1}`,k,k.slice(1));document.getElementById("btSave").style.visibility="hidden"}function ce(){m=!m,Q()}function b(e,t,o){var n=document.getElementById(e),l=/[a-f\d]{6}/i.exec(t)[0],r;n.querySelector("input").value="#"+l,n.querySelector(".hexColor").innerText="#"+l,r=n.querySelector(".colTitle"),r&&(r.innerText=o),n.querySelector(".rgbColor").innerText=M(l).rgb,n.querySelector(".hslColor100").innerText=h(l).hsl100,n.querySelector(".hslColor255").innerText=h(l).hsl255}function h(e){var t=/#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/i.exec(e),o=parseInt(t[1],16),n=parseInt(t[2],16),l=parseInt(t[3],16);o/=255,n/=255,l/=255;var r=Math.max(o,n,l),d=Math.min(o,n,l),s,i,c=(r+d)/2;if(r==d)s=i=0;else{var u=r-d;switch(i=c>.5?u/(2-r-d):u/(r+d),r){case o:s=(n-l)/u+(n<l?6:0);break;case n:s=(l-o)/u+2;break;case l:s=(o-n)/u+4;break}s/=6}var p=parseInt(s*3600)/10,S=parseInt(i*1e3)/10,I=parseInt(c*1e3)/10,y=parseInt(s*255),E=parseInt(S/100*255),f=parseInt(c*255);return{h360:p,s100:S,l100:I,hsl100:`hsl(${p},${S}%,${I}%)`,hsl255:`hsl(${y},${E},${f})`}}function W(e,t,o){var n=t/100,l=o/100;let r=(1-Math.abs(2*l-1))*n,d=r*(1-Math.abs(e/60%2-1)),s=l-r/2,i=0,c=0,u=0;0<=e&&e<60?(i=r,c=d,u=0):60<=e&&e<120?(i=d,c=r,u=0):120<=e&&e<180?(i=0,c=r,u=d):180<=e&&e<240?(i=0,c=d,u=r):240<=e&&e<300?(i=d,c=0,u=r):300<=e&&e<360&&(i=r,c=0,u=d),i=Math.round((i+s)*255),c=Math.round((c+s)*255),u=Math.round((u+s)*255);var p=`${i.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}${u.toString(16).padStart(2,"0")}`;return{r:i,g:c,b:u,rgbHex:p,rgbCol:`#${p}`,hsl100:`hsl(${Math.round(e*10)/10},${Math.round(t*10)/10}%,${Math.round(o*10)/10}%)`,hsl255:`hsl(${Math.round(e/360*255)},${Math.round(n*255)},${Math.round(o/100*255)})`}}function q(e){const t=document.querySelectorAll(".aTab");var o=0;t.forEach(l=>{o==e?l.style.display="flex":l.style.display="none",o++});const n=document.querySelectorAll(".btTab");o=0,n.forEach(l=>{o==e?l.classList.add("btTabOn"):l.classList.remove("btTabOn"),o++})}function M(e){var t=/#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/i.exec(e),o=parseInt(t[1],16),n=parseInt(t[2],16),l=parseInt(t[3],16);return{r:o,g:n,b:l,rgb:`rgb(${o},${n},${l})`}}function X(){O();var e=L.transaction("colors","readonly"),t=e.objectStore("colors"),o=t.openCursor();o.onsuccess=function(n){var l=n.target.result;l&&(b(`c${l.value.id}`,l.value.hexColor,l.value.title),l.continue())}}function se(){for(var e,t=0;t<A;t++)e=Math.floor(Math.random()*16777215).toString(16).padStart(6,"0"),b(`c${t+1}`,e);document.getElementById("btSave").style.visibility="visible"}function ue(e,t,o){const n=document.createElement("a"),l=new Blob([e],{type:o});n.href=URL.createObjectURL(l),n.download=t,n.click()}function me(){var e=[],t,o,n,l=document.getElementById("chkExclude").checked,r=document.getElementById("colExclude").value,d=document.getElementById("colPalette").getElementsByClassName("paletteColor");for(var s of d)o=s.querySelector(".colTitle").innerText,t=s.querySelector(".inColor").value,n={Title:o,Hexcolor:t},(!l||r!=t)&&e.push(n);ue(JSON.stringify(e),"ColorPalette.json","text/plain"),document.getElementById("dlgDownload").style.display="none"}function ve(){var e=document.getElementById("chkExclude").checked;document.getElementById("colExclude").disabled=!e}function ge(){document.getElementById("dlgDownload").style.display="none"}function ye(){document.getElementById("dlgDownload").style.display="block"}function Ee(){document.getElementById("dlgUpload").style.display="block"}function fe(){document.getElementById("dlgUpload").style.display="none"}function he(e){let t=e.target.result,o=JSON.parse(t);console.log(o),O();for(let n=0;n<o.length;n++){let l=o[n].Title,r=o[n].Hexcolor;b(`c${n+1}`,r,l)}document.getElementById("btSave").style.visibility="visible"}function pe(){let e=document.querySelector("#colorFile");if(!e.value.length)return;let t=new FileReader;t.onload=he,t.readAsText(e.files[0]),document.getElementById("dlgUpload").style.display="none"}function be(){var e,t,o,n=document.getElementById("colPalette").getElementsByClassName("paletteColor");for(var l of n)t=l.querySelector(".colTitle").innerText,o=l.id.slice(1),e=l.querySelector(".inColor").value,Ce(o,e,t);document.getElementById("btSave").style.visibility="hidden"}function xe(e,t,o){return`${e.toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}`}function Be(e,t,o,n,l){var r=e.querySelector('input[type="color"]'),d=h(r.value),s=h(t);d.h360=o?s.h360:d.h360,d.s100=n?s.s100:d.s100,d.l100=l?s.l100:d.l100;var i=W(d.h360,d.s100,d.l100),c=i.rgbCol;r.value=c,P(e.id,c)}function x(){return"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}function B(){a.blender.colors=parseInt(document.getElementById("inBlnColors").value),a.blender.fixH=document.getElementById("inBlnHFix").checked,a.blender.fixS=document.getElementById("inBlnSFix").checked,a.blender.fixL=document.getElementById("inBlnLFix").checked,a.blender.color=document.getElementById("inColorBln").value;var e=document.getElementById("BlnPaletteContainer"),t=e.querySelectorAll(".paletteColor");if(t.length>a.blender.colors){var o=0;t.forEach(r=>{o++,o>a.blender.colors&&r.remove()})}else if(t.length<a.blender.colors)for(let r=t.length;r<a.blender.colors;r++){var n=x(),l=$(`b${r+1}`,n,null,!1,!1);e.innerHTML+=l,b(`b${r+1}`,n,n),T(`b${r+1}`)}b("blnC1",a.blender.color),e=document.getElementById("BlnPaletteContainer"),t=e.querySelectorAll(".paletteColor"),t.forEach(r=>{var d=r.querySelector("input[type=color]");z(d),Be(r,a.blender.color,a.blender.fixH,a.blender.fixS,a.blender.fixL),d.addEventListener("change",B)}),T("#BlnPaletteContainer input[type=color]")}function w(){a.mixer.steps=parseInt(document.getElementById("inMix2Steps").value),a.mixer.color1=document.getElementById("inColorMix1").value,a.mixer.color2=document.getElementById("inColorMix2").value;var e=document.getElementById("Mix2PaletteContainer");e.querySelectorAll(".paletteColor").forEach(v=>{v.remove()});var o=M(a.mixer.color1),n=M(a.mixer.color2),l=o.r,r=o.g,d=o.b,s=n.r,i=n.g,c=n.b,u=(s-l)/(a.mixer.steps-1),p=(i-r)/(a.mixer.steps-1),S=(c-d)/(a.mixer.steps-1),I,y,E,f,G;P("mixC1",a.mixer.color1),P("mixC2",a.mixer.color2);for(let v=0;v<a.mixer.steps;v++)v==0?(y=l,E=r,f=d):v==a.mixer.steps-1?(y=s,E=i,f=c):(y=l+u*v,E=r+p*v,f=d+S*v),y=Math.round(y),E=Math.round(E),f=Math.round(f),I=`#${xe(y,E,f)}`,G=$(`mixTwo${v+2}`,I,null,!1,!0),Mix2PaletteContainer.innerHTML+=G;T("#Mix2PaletteContainer input[type=color]")}function P(e,t){document.querySelector(`#${e} .hexColor`).innerText=`${t}`;var o=M(t);document.querySelector(`#${e} .rgbColor`).innerText=`${o.rgb}`;var n=h(t);document.querySelector(`#${e} .hslColor100`).innerText=`${n.hsl100}`,document.querySelector(`#${e} .hslColor255`).innerText=`${n.hsl255}`}function C(){a.slider.color=document.querySelector("#mhsl1 input").value,a.slider.steps=Math.max(parseInt(document.getElementById("inHSLSteps").value),2),a.slider.deltaH=parseInt(document.getElementById("inH").value),a.slider.deltaS=parseInt(document.getElementById("inS").value),a.slider.deltaL=parseInt(document.getElementById("inL").value);var e=h(a.slider.color),t=e.h360,o=e.s100,n=e.l100,l,r,d=document.getElementById("hslMixPaletteContainer");d.querySelectorAll(".paletteColor").forEach(i=>{i.remove()}),P("mhsl1",a.slider.color);for(let i=0;i<a.slider.steps;i++)l=W(t,o,n),r=$(`mhsl${i+2}`,l.rgbCol,null,!1,!0),d.innerHTML+=r,t=(t+a.slider.deltaH+360)%360,o=Math.max(Math.min(o+a.slider.deltaS,100),0),n=Math.max(Math.min(n+a.slider.deltaL,100),0);T("#hslMixPaletteContainer input[type=color]")}function Ce(e,t,o=""){const l=L.transaction("colors","readwrite").objectStore("colors").put({hexColor:t,title:o.trim()==""?t:o,id:e});l.onsuccess=function(r){return l.result},l.onerror=function(r){return null}}
