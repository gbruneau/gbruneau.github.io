const X=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}};X();var Y=202503281131e-4,k="#808080",j=1,G,H=250,R,q=!1,r={setting:{isDark:!1},slider:{color:"#00ff00",steps:6,deltaH:15,deltaS:-10,deltaL:10},mixer:{color1:"#F0ff00",color2:"#FF00bf",steps:6},blender:{color:"#F0bf95",colors:6,fixH:!1,fixS:!1,fixL:!1},lorem:{color1:"#BBFF00",color2:"#FF0000"}};r.slider.color=b();r.mixer.color1=b();r.mixer.color2=b();r.blender.color=b();r.lorem.color1=b();r.lorem.color2=b();for(let e=0;e<H;e++)G=P(`c${j+e}`,k,k.slice(1),!0,!1),document.getElementById("colPalette").innerHTML+=G;for(let e=0;e<H;e++)R=document.querySelector(`#c${j+e} .colTitle`),R.addEventListener("keypress",function(t){t.key==="Enter"&&t.preventDefault(),document.getElementById("btSave").style.visibility="visible"});var Z=function(){var e=this.value,t=this.parentElement.id.substring(1);p(`c${t}`,e,e.slice(1)),document.getElementById("btSave").style.visibility="visible"},U=document.getElementById("colPalette").getElementsByClassName("inColor");for(var w=0;w<U.length;w++)U[w].addEventListener("change",Z);document.getElementById("btReset").addEventListener("click",F);document.getElementById("btLoad").addEventListener("click",W);document.getElementById("btSave").addEventListener("click",pe);document.getElementById("btRandom").addEventListener("click",ce);document.getElementById("btFlipBG").addEventListener("click",ie);document.getElementById("btAbout").addEventListener("click",z);document.getElementById("aboutBox").addEventListener("click",z);document.getElementById("btDownload").addEventListener("click",ve);document.getElementById("btDoDownload").addEventListener("click",ue);document.getElementById("btCancelDownload").addEventListener("click",ge);document.getElementById("chkExclude").addEventListener("change",me);document.getElementById("btUpload").addEventListener("click",ye);document.getElementById("btCancelUpload").addEventListener("click",Ee);document.getElementById("btDoUpload").addEventListener("click",he);document.getElementById("btMix1").addEventListener("click",function(){$(0)});document.getElementById("btMix2").addEventListener("click",function(){$(1)});document.getElementById("btMix3").addEventListener("click",function(){$(2)});document.getElementById("btTextTry").addEventListener("click",function(){$(3)});document.getElementById("inColorHslMix").addEventListener("change",B);document.getElementById("inHSLSteps").addEventListener("change",B);document.getElementById("inH").addEventListener("change",B);document.getElementById("inS").addEventListener("change",B);document.getElementById("inL").addEventListener("change",B);document.getElementById("inColorMix1").addEventListener("change",D);document.getElementById("inColorMix2").addEventListener("change",D);document.getElementById("inMix2Steps").addEventListener("change",D);document.getElementById("inColorBln").addEventListener("change",x);document.getElementById("inBlnHFix").addEventListener("change",x);document.getElementById("inBlnSFix").addEventListener("change",x);document.getElementById("inBlnLFix").addEventListener("change",x);document.getElementById("inBlnColors").addEventListener("change",x);document.getElementById("inColorText1").addEventListener("change",A);document.getElementById("inColorText2").addEventListener("change",A);let I;const _="ColorPkr",V=indexedDB.open(_,1);V.onsuccess=e=>{I=e.target.result,W()};V.onupgradeneeded=e=>{I=e.target.result,I.createObjectStore("colors",{keyPath:"id",autoIncrement:!0})};document.getElementById("aboutBoxBuild").innerText=Y;ee();K();B();D();x();A();de();var N;window.dragSrcEl=null;L("input[type=color]");N=document.querySelectorAll("#colPalette input,#inColorHslMix,#inColorMix1,#inColorMix2,#inColorText1,#inColorText2,#BlnPaletteContainer input,#inColorBln");N.forEach(function(e){J(e)});function J(e){e.addEventListener("dragover",oe),e.addEventListener("dragenter",re),e.addEventListener("dragleave",ae),e.addEventListener("drop",te)}function ee(){document.getElementById("inColorHslMix").value=r.slider.color,document.getElementById("inHSLSteps").value=r.slider.steps,document.getElementById("inH").value=r.slider.deltaH,document.getElementById("inS").value=r.slider.deltaS,document.getElementById("inL").value=r.slider.deltaL,document.getElementById("inColorMix1").value=r.mixer.color1,document.getElementById("inColorMix2").value=r.mixer.color2,document.getElementById("inMix2Steps").value=r.mixer.steps,document.getElementById("inColorBln").value=r.blender.color,document.getElementById("inBlnColors").value=r.blender.colors,document.getElementById("inBlnHFix").value=r.blender.fixH,document.getElementById("inBlnSFix").value=r.blender.fixS,document.getElementById("inBlnLFix").value=r.blender.fixL,document.getElementById("inColorText1").value=r.lorem.color1,document.getElementById("inColorText2").value=r.lorem.color2}function z(){q?document.getElementById("aboutBox").style.display="none":document.getElementById("aboutBox").style.display="block",q=!q}function L(e){var t=document.querySelectorAll(e);t.forEach(function(n){n.addEventListener("dragstart",le),n.addEventListener("dragend",ne)})}function te(e){if(e.stopPropagation(),dragSrcEl!==this){var t=dragSrcEl.parentElement.id.charAt(0)=="c",n=this.parentElement.id.charAt(0)=="c";if(this.parentElement.id.charAt(0)=="b",t&&n){var l=dragSrcEl.value,o=dragSrcEl.parentElement.querySelector(".colTitle").innerText,a=this.value,d=this.parentElement.querySelector(".colTitle").innerText;dragSrcEl.value=a,this.value=l;const s=new Event("change");this.dispatchEvent(s),dragSrcEl.dispatchEvent(s),this.parentElement.querySelector(".colTitle").innerText=o,dragSrcEl.parentElement.querySelector(".colTitle").innerText=d}else if(n){var l=dragSrcEl.value;this.value=l;const i=new Event("change");this.dispatchEvent(i)}else if(t){var l=dragSrcEl.value;this.value=l;const i=new Event("change");this.dispatchEvent(i)}else{var l=dragSrcEl.value;this.value=l;const i=new Event("change");this.dispatchEvent(i)}}return!1}function le(e){this.classList.add("selectedDragSource"),dragSrcEl=this,e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("text/html",this.innerHTML)}function ne(e){this.classList.remove("selectedDragSource");var t=document.querySelectorAll("#colPalette input,#inColorHslMix,#inColorMix1,#inColorMix2,#inColorText1,#inColorText2");t.forEach(function(n){n.classList.remove("dragOver")})}function oe(e){return e.preventDefault(),!1}function re(e){this.classList.add("dragOver")}function ae(e){this.classList.remove("dragOver")}function P(e,t,n,l,o){var a=`<div id="${e}" class="paletteColor">
  <input class="inColor" type="color" value="${t}" draggable="true" ${o?"disabled='true'":""}">
  ${l?'<div class="colTitle"   contenteditable="true"   >'+n+"</div>":""} 
  <div class="hexColor">${t}</div>
  <div class="rgbColor">${T(t).rgb}</div>
  <div class="hslColor100">${f(t).hsl100}</div>
  <div class="hslColor255">${f(t).hsl255}</div>
</div>`;return a}function m(e,t,n){var l=document.getElementById(e);l.style.backgroundColor=n,l.style.color=t}function de(){var e=document.querySelectorAll(".textColorBox");for(const t of e)t.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing elit.<br><span>\u25A0</span>"}function A(){var e=document.getElementById("inColorText1").value,t=document.getElementById("inColorText2").value;r.lorem.color1=e,r.lorem.color2=t;const n="black",l="white";m("tb01",t,e),m("tb02",n,e),m("tb03",l,e),m("tb04",e,t),m("tb05",n,t),m("tb06",l,t),m("tb07",e,l),m("tb08",t,l),m("tb09",n,l),m("tb10",e,n),m("tb11",t,n),m("tb12",l,n)}function K(){var e=getComputedStyle(document.documentElement).getPropertyValue("--darkBG"),t=getComputedStyle(document.documentElement).getPropertyValue("--darkColor"),n=getComputedStyle(document.documentElement).getPropertyValue("--darkPannel"),l=getComputedStyle(document.documentElement).getPropertyValue("--darkTitle"),o=getComputedStyle(document.documentElement).getPropertyValue("--lightBG"),a=getComputedStyle(document.documentElement).getPropertyValue("--lightColor"),d=getComputedStyle(document.documentElement).getPropertyValue("--lightPannel"),s=getComputedStyle(document.documentElement).getPropertyValue("--lightTitle");document.body.style.backgroundColor=r.setting.isDark?e:o,document.body.style.color=r.setting.isDark?t:a,document.getElementById("colorPanel").style.backgroundColor=r.setting.isDark?n:d,i=document.querySelectorAll("#colorPanel .paletteColor input"),i.forEach(c=>{c.style.backgroundColor=r.setting.isDark?n:d,c.style.borderColor=r.setting.isDark?n:d});var i=document.querySelectorAll("#colPalette .paletteColor input");i.forEach(c=>{c.style.backgroundColor=r.setting.isDark?e:o,c.style.borderColor=r.setting.isDark?e:o});var i=document.querySelectorAll("#colPalette .paletteColor .colTitle");i.forEach(c=>{c.style.color=r.setting.isDark?l:s}),document.querySelector("#btFlipBG span").title=r.setting.isDark?"Light Mode":"Dark Mode"}function F(){for(var e=document.getElementById("colPalette").getElementsByClassName("inColor"),t=0;t<e.length;t++)p(`c${t+1}`,k,k.slice(1));document.getElementById("btSave").style.visibility="hidden"}function ie(){r.setting.isDark=!r.setting.isDark,K()}function p(e,t,n){var l=document.getElementById(e),o=/[a-f\d]{6}/i.exec(t)[0],a;l.querySelector("input").value="#"+o,l.querySelector(".hexColor").innerText="#"+o,a=l.querySelector(".colTitle"),a&&(a.innerText=n),l.querySelector(".rgbColor").innerText=T(o).rgb,l.querySelector(".hslColor100").innerText=f(o).hsl100,l.querySelector(".hslColor255").innerText=f(o).hsl255}function f(e){var t=/#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/i.exec(e),n=parseInt(t[1],16),l=parseInt(t[2],16),o=parseInt(t[3],16);n/=255,l/=255,o/=255;var a=Math.max(n,l,o),d=Math.min(n,l,o),s,i,c=(a+d)/2;if(a==d)s=i=0;else{var u=a-d;switch(i=c>.5?u/(2-a-d):u/(a+d),a){case n:s=(l-o)/u+(l<o?6:0);break;case l:s=(o-n)/u+2;break;case o:s=(n-l)/u+4;break}s/=6}var h=parseInt(s*3600)/10,C=parseInt(i*1e3)/10,S=parseInt(c*1e3)/10,v=parseInt(s*255),y=parseInt(C/100*255),E=parseInt(c*255);return{h360:h,s100:C,l100:S,hsl100:`hsl(${h},${C}%,${S}%)`,hsl255:`hsl(${v},${y},${E})`}}function Q(e,t,n){var l=t/100,o=n/100;let a=(1-Math.abs(2*o-1))*l,d=a*(1-Math.abs(e/60%2-1)),s=o-a/2,i=0,c=0,u=0;0<=e&&e<60?(i=a,c=d,u=0):60<=e&&e<120?(i=d,c=a,u=0):120<=e&&e<180?(i=0,c=a,u=d):180<=e&&e<240?(i=0,c=d,u=a):240<=e&&e<300?(i=d,c=0,u=a):300<=e&&e<360&&(i=a,c=0,u=d),i=Math.round((i+s)*255),c=Math.round((c+s)*255),u=Math.round((u+s)*255);var h=`${i.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}${u.toString(16).padStart(2,"0")}`;return{r:i,g:c,b:u,rgbHex:h,rgbCol:`#${h}`,hsl100:`hsl(${Math.round(e*10)/10},${Math.round(t*10)/10}%,${Math.round(n*10)/10}%)`,hsl255:`hsl(${Math.round(e/360*255)},${Math.round(l*255)},${Math.round(n/100*255)})`}}function $(e){const t=document.querySelectorAll(".aTab");var n=0;t.forEach(o=>{n==e?o.style.display="flex":o.style.display="none",n++});const l=document.querySelectorAll(".btTab");n=0,l.forEach(o=>{n==e?o.classList.add("btTabOn"):o.classList.remove("btTabOn"),n++})}function T(e){var t=/#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/i.exec(e),n=parseInt(t[1],16),l=parseInt(t[2],16),o=parseInt(t[3],16);return{r:n,g:l,b:o,rgb:`rgb(${n},${l},${o})`}}function W(){F();var e=I.transaction("colors","readonly"),t=e.objectStore("colors"),n=t.openCursor();n.onsuccess=function(l){var o=l.target.result;o&&(p(`c${o.value.id}`,o.value.hexColor,o.value.title),o.continue())}}function ce(){for(var e,t=0;t<H;t++)e=Math.floor(Math.random()*16777215).toString(16).padStart(6,"0"),p(`c${t+1}`,e);document.getElementById("btSave").style.visibility="visible"}function se(e,t,n){const l=document.createElement("a"),o=new Blob([e],{type:n});l.href=URL.createObjectURL(o),l.download=t,l.click()}function ue(){var e=[],t,n,l,o=document.getElementById("chkExclude").checked,a=document.getElementById("colExclude").value,d=document.getElementById("colPalette").getElementsByClassName("paletteColor");for(var s of d)n=s.querySelector(".colTitle").innerText,t=s.querySelector(".inColor").value,l={Title:n,Hexcolor:t},(!o||a!=t)&&e.push(l);se(JSON.stringify(e),"ColorPalette.json","text/plain"),document.getElementById("dlgDownload").style.display="none"}function me(){var e=document.getElementById("chkExclude").checked;document.getElementById("colExclude").disabled=!e}function ge(){document.getElementById("dlgDownload").style.display="none"}function ve(){document.getElementById("dlgDownload").style.display="block"}function ye(){document.getElementById("dlgUpload").style.display="block"}function Ee(){document.getElementById("dlgUpload").style.display="none"}function fe(e){let t=e.target.result,n=JSON.parse(t);console.log(n),F();for(let l=0;l<n.length;l++){let o=n[l].Title,a=n[l].Hexcolor;p(`c${l+1}`,a,o)}document.getElementById("btSave").style.visibility="visible"}function he(){let e=document.querySelector("#colorFile");if(!e.value.length)return;let t=new FileReader;t.onload=fe,t.readAsText(e.files[0]),document.getElementById("dlgUpload").style.display="none"}function pe(){var e,t,n,l=document.getElementById("colPalette").getElementsByClassName("paletteColor");for(var o of l)t=o.querySelector(".colTitle").innerText,n=o.id.slice(1),e=o.querySelector(".inColor").value,Be(n,e,t);document.getElementById("btSave").style.visibility="hidden"}function be(e,t,n){return`${e.toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}`}function xe(e,t,n,l,o){var a=e.querySelector('input[type="color"]'),d=f(a.value),s=f(t);d.h360=n?s.h360:d.h360,d.s100=l?s.s100:d.s100,d.l100=o?s.l100:d.l100;var i=Q(d.h360,d.s100,d.l100),c=i.rgbCol;a.value=c,M(e.id,c)}function b(){return"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}function x(){r.blender.colors=parseInt(document.getElementById("inBlnColors").value),r.blender.fixH=document.getElementById("inBlnHFix").checked,r.blender.fixS=document.getElementById("inBlnSFix").checked,r.blender.fixL=document.getElementById("inBlnLFix").checked,r.blender.color=document.getElementById("inColorBln").value;var e=document.getElementById("BlnPaletteContainer"),t=e.querySelectorAll(".paletteColor");if(t.length>r.blender.colors){var n=0;t.forEach(a=>{n++,n>r.blender.colors&&a.remove()})}else if(t.length<r.blender.colors)for(let a=t.length;a<r.blender.colors;a++){var l=b(),o=P(`b${a+1}`,l,null,!1,!1);e.innerHTML+=o,p(`b${a+1}`,l,l),L(`b${a+1}`)}p("blnC1",r.blender.color),e=document.getElementById("BlnPaletteContainer"),t=e.querySelectorAll(".paletteColor"),t.forEach(a=>{var d=a.querySelector("input[type=color]");J(d),xe(a,r.blender.color,r.blender.fixH,r.blender.fixS,r.blender.fixL),d.addEventListener("change",x)}),L("#BlnPaletteContainer input[type=color]")}function D(){r.mixer.steps=parseInt(document.getElementById("inMix2Steps").value),r.mixer.color1=document.getElementById("inColorMix1").value,r.mixer.color2=document.getElementById("inColorMix2").value;var e=document.getElementById("Mix2PaletteContainer");e.querySelectorAll(".paletteColor").forEach(g=>{g.remove()});var n=T(r.mixer.color1),l=T(r.mixer.color2),o=n.r,a=n.g,d=n.b,s=l.r,i=l.g,c=l.b,u=(s-o)/(r.mixer.steps-1),h=(i-a)/(r.mixer.steps-1),C=(c-d)/(r.mixer.steps-1),S,v,y,E,O;M("mixC1",r.mixer.color1),M("mixC2",r.mixer.color2);for(let g=0;g<r.mixer.steps;g++)g==0?(v=o,y=a,E=d):g==r.mixer.steps-1?(v=s,y=i,E=c):(v=o+u*g,y=a+h*g,E=d+C*g),v=Math.round(v),y=Math.round(y),E=Math.round(E),S=`#${be(v,y,E)}`,O=P(`mixTwo${g+2}`,S,null,!1,!0),Mix2PaletteContainer.innerHTML+=O;L("#Mix2PaletteContainer input[type=color]")}function M(e,t){document.querySelector(`#${e} .hexColor`).innerText=`${t}`;var n=T(t);document.querySelector(`#${e} .rgbColor`).innerText=`${n.rgb}`;var l=f(t);document.querySelector(`#${e} .hslColor100`).innerText=`${l.hsl100}`,document.querySelector(`#${e} .hslColor255`).innerText=`${l.hsl255}`}function B(){r.slider.color=document.querySelector("#mhsl1 input").value,r.slider.steps=Math.max(parseInt(document.getElementById("inHSLSteps").value),2),r.slider.deltaH=parseInt(document.getElementById("inH").value),r.slider.deltaS=parseInt(document.getElementById("inS").value),r.slider.deltaL=parseInt(document.getElementById("inL").value);var e=f(r.slider.color),t=e.h360,n=e.s100,l=e.l100,o,a,d=document.getElementById("hslMixPaletteContainer");d.querySelectorAll(".paletteColor").forEach(i=>{i.remove()}),M("mhsl1",r.slider.color);for(let i=0;i<r.slider.steps;i++)o=Q(t,n,l),a=P(`mhsl${i+2}`,o.rgbCol,null,!1,!0),d.innerHTML+=a,t=(t+r.slider.deltaH+360)%360,n=Math.max(Math.min(n+r.slider.deltaS,100),0),l=Math.max(Math.min(l+r.slider.deltaL,100),0);L("#hslMixPaletteContainer input[type=color]")}function Be(e,t,n=""){const o=I.transaction("colors","readwrite").objectStore("colors").put({hexColor:t,title:n.trim()==""?t:n,id:e});o.onsuccess=function(a){return o.result},o.onerror=function(a){return null}}
