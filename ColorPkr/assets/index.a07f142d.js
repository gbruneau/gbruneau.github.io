const W=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}};W();var X=202211160052e-4,T="#808080",V=1,N,w=250,m=!1,R,$=!1;for(let e=0;e<w;e++)N=H(`c${V+e}`,T,T.slice(1),!0,!1),document.getElementById("colPalette").innerHTML+=N;for(let e=0;e<w;e++)R=document.querySelector(`#c${V+e} .colTitle`),R.addEventListener("keypress",function(t){t.key==="Enter"&&t.preventDefault(),document.getElementById("btSave").style.visibility="visible"});var Y=function(){var e=this.value,t=this.parentElement.id.substring(1);B("c",t,e,e.slice(1)),document.getElementById("btSave").style.visibility="visible"},j=document.getElementById("colPalette").getElementsByClassName("inColor");for(var P=0;P<j.length;P++)j[P].addEventListener("change",Y);document.getElementById("btReset").addEventListener("click",O);document.getElementById("btLoad").addEventListener("click",Q);document.getElementById("btSave").addEventListener("click",fe);document.getElementById("btRandom").addEventListener("click",de);document.getElementById("btFlipBG").addEventListener("click",ae);document.getElementById("btAbout").addEventListener("click",z);document.getElementById("aboutBox").addEventListener("click",z);document.getElementById("btDownload").addEventListener("click",ve);document.getElementById("btDoDownload").addEventListener("click",se);document.getElementById("btCancelDownload").addEventListener("click",me);document.getElementById("chkExclude").addEventListener("change",ue);document.getElementById("btUpload").addEventListener("click",ge);document.getElementById("btCancelUpload").addEventListener("click",ye);document.getElementById("btDoUpload").addEventListener("click",he);document.getElementById("btMix1").addEventListener("click",function(){G(0)});document.getElementById("btMix2").addEventListener("click",function(){G(1)});document.getElementById("btTextTry").addEventListener("click",function(){G(2)});document.getElementById("inColorHslMix").addEventListener("change",C);document.getElementById("inHSLSteps").addEventListener("change",C);document.getElementById("inH").addEventListener("change",C);document.getElementById("inS").addEventListener("change",C);document.getElementById("inL").addEventListener("change",C);document.getElementById("inColorMix1").addEventListener("change",L);document.getElementById("inColorMix2").addEventListener("change",L);document.getElementById("inMix2Steps").addEventListener("change",L);document.getElementById("inColorText1").addEventListener("change",A);document.getElementById("inColorText2").addEventListener("change",A);let x;const Z="ColorPkr",F=indexedDB.open(Z,1);F.onsuccess=e=>{x=e.target.result,Q()};F.onupgradeneeded=e=>{x=e.target.result,x.createObjectStore("colors",{keyPath:"id",autoIncrement:!0})};document.getElementById("aboutBoxBuild").innerText=X;K();C();L();A();re();var J;window.dragSrcEl=null;D("input[type=color]");J=document.querySelectorAll("#colPalette input,#inColorHslMix,#inColorMix1,#inColorMix2,#inColorText1,#inColorText2");J.forEach(function(e){e.addEventListener("dragover",ne),e.addEventListener("dragenter",le),e.addEventListener("dragleave",oe),e.addEventListener("drop",_)});function z(){$?document.getElementById("aboutBox").style.display="none":document.getElementById("aboutBox").style.display="block",$=!$}function D(e){var t=document.querySelectorAll(e);t.forEach(function(n){n.addEventListener("dragstart",ee),n.addEventListener("dragend",te)})}function _(e){if(e.stopPropagation(),dragSrcEl!==this){var t=dragSrcEl.parentElement.id.charAt(0)=="c",n=this.parentElement.id.charAt(0)=="c";if(t&&n){var o=dragSrcEl.value,l=dragSrcEl.parentElement.querySelector(".colTitle").innerText,r=this.value,a=this.parentElement.querySelector(".colTitle").innerText;dragSrcEl.value=r,this.value=o;const d=new Event("change");this.dispatchEvent(d),dragSrcEl.dispatchEvent(d),this.parentElement.querySelector(".colTitle").innerText=l,dragSrcEl.parentElement.querySelector(".colTitle").innerText=a}else if(n){var o=dragSrcEl.value;this.value=o;const c=new Event("change");this.dispatchEvent(c)}else if(t){var o=dragSrcEl.value;this.value=o;const c=new Event("change");this.dispatchEvent(c)}else{var o=dragSrcEl.value;this.value=o;const c=new Event("change");this.dispatchEvent(c)}}return!1}function ee(e){this.classList.add("selectedDragSource"),dragSrcEl=this,e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("text/html",this.innerHTML)}function te(e){this.classList.remove("selectedDragSource");var t=document.querySelectorAll("#colPalette input,#inColorHslMix,#inColorMix1,#inColorMix2,#inColorText1,#inColorText2");t.forEach(function(n){n.classList.remove("dragOver")})}function ne(e){return e.preventDefault(),!1}function le(e){this.classList.add("dragOver")}function oe(e){this.classList.remove("dragOver")}function H(e,t,n,o,l){var r=`<div id="${e}" class="paletteColor">
  <input class="inColor" type="color" value="${t}" draggable="true" ${l?"disabled='true'":""}">
  ${o?'<div class="colTitle"   contenteditable="true"   >'+n+"</div>":""} 
  <div class="hexColor">${t}</div>
  <div class="rgbColor">${S(t).rgb}</div>
  <div class="hslColor100">${b(t).hsl100}</div>
  <div class="hslColor255">${b(t).hsl255}</div>
</div>`;return r}function y(e,t,n){var o=document.getElementById(e);o.style.backgroundColor=n,o.style.color=t}function re(){var e=document.querySelectorAll(".textColorBox");for(const t of e)t.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing elit.<br><span>\u25A0</span>"}function A(){var e=document.getElementById("inColorText1").value,t=document.getElementById("inColorText2").value;y("tb01",e,"black"),y("tb02",t,"black"),y("tb03",e,"white"),y("tb04",t,"white"),y("tb05","black",e),y("tb06","white",e),y("tb07",t,e),y("tb08","black",t),y("tb09","white",t),y("tb10",e,t)}function K(){var e=getComputedStyle(document.documentElement).getPropertyValue("--darkBG"),t=getComputedStyle(document.documentElement).getPropertyValue("--darkColor"),n=getComputedStyle(document.documentElement).getPropertyValue("--darkPannel"),o=getComputedStyle(document.documentElement).getPropertyValue("--darkTitle"),l=getComputedStyle(document.documentElement).getPropertyValue("--lightBG"),r=getComputedStyle(document.documentElement).getPropertyValue("--lightColor"),a=getComputedStyle(document.documentElement).getPropertyValue("--lightPannel"),d=getComputedStyle(document.documentElement).getPropertyValue("--lightTitle");document.body.style.backgroundColor=m?e:l,document.body.style.color=m?t:r,document.getElementById("colorPanel").style.backgroundColor=m?n:a,c=document.querySelectorAll("#colorPanel .paletteColor input"),c.forEach(i=>{i.style.backgroundColor=m?n:a,i.style.borderColor=m?n:a});var c=document.querySelectorAll("#colPalette .paletteColor input");c.forEach(i=>{i.style.backgroundColor=m?e:l,i.style.borderColor=m?e:l});var c=document.querySelectorAll("#colPalette .paletteColor .colTitle");c.forEach(i=>{i.style.color=m?o:d}),document.querySelector("#btFlipBG span").title=m?"Light Mode":"Dark Mode"}function O(){for(var e=document.getElementById("colPalette").getElementsByClassName("inColor"),t=0;t<e.length;t++)B("c",t+1,T,T.slice(1));document.getElementById("btSave").style.visibility="hidden"}function ae(){m=!m,K()}function B(e,t,n,o){var l=`${e}${t}`,r=document.getElementById(l),a=/[a-f\d]{6}/i.exec(n)[0],d;r.querySelector("input").value="#"+a,r.querySelector(".hexColor").innerText="#"+a,d=r.querySelector(".colTitle"),d&&(d.innerText=o),r.querySelector(".rgbColor").innerText=S(a).rgb,r.querySelector(".hslColor100").innerText=b(a).hsl100,r.querySelector(".hslColor255").innerText=b(a).hsl255}function b(e){var t=/#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/i.exec(e),n=parseInt(t[1],16),o=parseInt(t[2],16),l=parseInt(t[3],16);n/=255,o/=255,l/=255;var r=Math.max(n,o,l),a=Math.min(n,o,l),d,c,i=(r+a)/2;if(r==a)d=c=0;else{var s=r-a;switch(c=i>.5?s/(2-r-a):s/(r+a),r){case n:d=(o-l)/s+(o<l?6:0);break;case o:d=(l-n)/s+2;break;case l:d=(n-o)/s+4;break}d/=6}var u=parseInt(d*3600)/10,E=parseInt(c*1e3)/10,v=parseInt(i*1e3)/10,M=parseInt(d*255),k=parseInt(E/100*255),I=parseInt(i*255);return{h360:u,s100:E,l100:v,hsl100:`hsl(${u},${E}%,${v}%)`,hsl255:`hsl(${M},${k},${I})`}}function ce(e,t,n){var o=t/100,l=n/100;let r=(1-Math.abs(2*l-1))*o,a=r*(1-Math.abs(e/60%2-1)),d=l-r/2,c=0,i=0,s=0;0<=e&&e<60?(c=r,i=a,s=0):60<=e&&e<120?(c=a,i=r,s=0):120<=e&&e<180?(c=0,i=r,s=a):180<=e&&e<240?(c=0,i=a,s=r):240<=e&&e<300?(c=a,i=0,s=r):300<=e&&e<360&&(c=r,i=0,s=a),c=Math.round((c+d)*255),i=Math.round((i+d)*255),s=Math.round((s+d)*255);var u=`${c.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`;return{r:c,g:i,b:s,rgbHex:u,rgbCol:`#${u}`,hsl100:`hsl(${Math.round(e*10)/10},${Math.round(t*10)/10}%,${Math.round(n*10)/10}%)`,hsl255:`hsl(${Math.round(e/360*255)},${Math.round(o*255)},${Math.round(n/100*255)})`}}function G(e){const t=document.querySelectorAll(".aTab");var n=0;t.forEach(l=>{n==e?l.style.display="flex":l.style.display="none",n++});const o=document.querySelectorAll(".btTab");n=0,o.forEach(l=>{n==e?l.classList.add("btTabOn"):l.classList.remove("btTabOn"),n++})}function S(e){var t=/#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/i.exec(e),n=parseInt(t[1],16),o=parseInt(t[2],16),l=parseInt(t[3],16);return{r:n,g:o,b:l,rgb:`rgb(${n},${o},${l})`}}function Q(){O();var e=x.transaction("colors","readonly"),t=e.objectStore("colors"),n=t.openCursor();n.onsuccess=function(o){var l=o.target.result;l&&(B("c",l.value.id,l.value.hexColor,l.value.title),l.continue())}}function de(){for(var e,t=0;t<w;t++)e=Math.floor(Math.random()*16777215).toString(16).padStart(6,"0"),B("c",t+1,e);document.getElementById("btSave").style.visibility="visible"}function ie(e,t,n){const o=document.createElement("a"),l=new Blob([e],{type:n});o.href=URL.createObjectURL(l),o.download=t,o.click()}function se(){var e=[],t,n,o,l=document.getElementById("chkExclude").checked,r=document.getElementById("colExclude").value,a=document.getElementById("colPalette").getElementsByClassName("paletteColor");for(var d of a)n=d.querySelector(".colTitle").innerText,t=d.querySelector(".inColor").value,o={Title:n,Hexcolor:t},(!l||r!=t)&&e.push(o);ie(JSON.stringify(e),"ColorPalette.json","text/plain"),document.getElementById("dlgDownload").style.display="none"}function ue(){var e=document.getElementById("chkExclude").checked;document.getElementById("colExclude").disabled=!e}function me(){document.getElementById("dlgDownload").style.display="none"}function ve(){document.getElementById("dlgDownload").style.display="block"}function ge(){document.getElementById("dlgUpload").style.display="block"}function ye(){document.getElementById("dlgUpload").style.display="none"}function Ee(e){let t=e.target.result,n=JSON.parse(t);console.log(n),O();for(let o=0;o<n.length;o++){let l=n[o].Title,r=n[o].Hexcolor;B("c",o+1,r,l)}document.getElementById("btSave").style.visibility="visible"}function he(){let e=document.querySelector("#colorFile");if(!e.value.length)return;let t=new FileReader;t.onload=Ee,t.readAsText(e.files[0]),document.getElementById("dlgUpload").style.display="none"}function fe(){var e,t,n,o=document.getElementById("colPalette").getElementsByClassName("paletteColor");for(var l of o)t=l.querySelector(".colTitle").innerText,n=l.id.slice(1),e=l.querySelector(".inColor").value,be(n,e,t);document.getElementById("btSave").style.visibility="hidden"}function pe(e,t,n){return`${e.toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}`}function L(){var e=parseInt(document.getElementById("inMix2Steps").value),t=document.getElementById("inColorMix1").value,n=document.getElementById("inColorMix2").value,o=document.getElementById("Mix2PaletteContainer");o.querySelectorAll(".paletteColor").forEach(g=>{g.remove()});var r=S(t),a=S(n),d=r.r,c=r.g,i=r.b,s=a.r,u=a.g,E=a.b,v=(s-d)/(e-1),M=(u-c)/(e-1),k=(E-i)/(e-1),I,h,f,p,U;q("mixC1",t),q("mixC2",n);for(let g=0;g<e;g++)g==0?(h=d,f=c,p=i):g==e-1?(h=s,f=u,p=E):(h=d+v*g,f=c+M*g,p=i+k*g),h=Math.round(h),f=Math.round(f),p=Math.round(p),I=`#${pe(h,f,p)}`,U=H(`mixTwo${g+2}`,I,null,!1,!0),Mix2PaletteContainer.innerHTML+=U;D("#Mix2PaletteContainer input[type=color]")}function q(e,t){document.querySelector(`#${e} .hexColor`).innerText=`${t}`;var n=S(t);document.querySelector(`#${e} .rgbColor`).innerText=`${n.rgb}`;var o=b(t);document.querySelector(`#${e} .hslColor100`).innerText=`${o.hsl100}`,document.querySelector(`#${e} .hslColor255`).innerText=`${o.hsl255}`}function C(){var e=document.querySelector("#mhsl1 input").value,t=Math.max(parseInt(document.getElementById("inHSLSteps").value),2),n=parseInt(document.getElementById("inH").value),o=parseInt(document.getElementById("inS").value),l=parseInt(document.getElementById("inL").value),r=b(e),a=r.h360,d=r.s100,c=r.l100,i,s,u=document.getElementById("hslMixPaletteContainer");u.querySelectorAll(".paletteColor").forEach(v=>{v.remove()}),q("mhsl1",e);for(let v=0;v<t;v++)i=ce(a,d,c),s=H(`mhsl${v+2}`,i.rgbCol,null,!1,!0),u.innerHTML+=s,a=Math.max(Math.min(a+n<0?360+(a+n):a+n,360),0),d=Math.max(Math.min(d+o,100),0),c=Math.max(Math.min(c+l,100),0);D("#hslMixPaletteContainer input[type=color]")}function be(e,t,n=""){const l=x.transaction("colors","readwrite").objectStore("colors").put({hexColor:t,title:n.trim()==""?t:n,id:e});l.onsuccess=function(r){return l.result},l.onerror=function(r){return null}}
